{"version":3,"file":"QJsearch.umd.js","sources":["../plugin-vue:export-helper","../packages/search/searchItem.vue","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../packages/search/index.vue","../packages/index.js"],"sourcesContent":["\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\r\n  <div class=\"search-item-reset--wrapper\" :class=\"{ 'item-flex--wrapper': itemData?.type == 'inputNumberRange' }\">\r\n    <!-- 纯文字 -->\r\n    <el-input\r\n      type=\"text\"\r\n      :prefix-icon=\"getPrefixIcon()\"\r\n      :maxlength=\"getInputLengthLimit()\"\r\n      :style=\"formatCssText()\"\r\n      v-model=\"itemData.searchVal\"\r\n      :placeholder=\"'请输入' + (itemData?.placeholder || itemData?.labelName)\"\r\n      @change=\"handleChangeInputValue\"\r\n      @keyup.enter=\"handleKeyupEvent\"\r\n      v-if=\"itemData?.type == 'input'\"\r\n    />\r\n    <!-- 纯数字 -->\r\n    <el-input\r\n      type=\"text\"\r\n      :prefix-icon=\"getPrefixIcon()\"\r\n      :maxlength=\"getInputLengthLimit()\"\r\n      :style=\"formatCssText()\"\r\n      v-model=\"itemData.searchVal\"\r\n      :placeholder=\"'请输入' + (itemData?.placeholder || itemData?.labelName)\"\r\n      @change=\"handleChangeInputValue\"\r\n      @keyup.enter=\"handleKeyupEvent\"\r\n      v-if=\"itemData?.type == 'inputNumber'\"\r\n    />\r\n    <!-- 数字范围输入框 -->\r\n    <template v-if=\"itemData.type == 'inputNumberRange'\">\r\n      <el-input\r\n        class=\"numberInput\"\r\n        :prefix-icon=\"getPrefixIcon()\"\r\n        :maxlength=\"getInputLengthLimit()\"\r\n        :style=\"formatCssText()\"\r\n        v-model.trim=\"itemData.searchVal[0]\"\r\n        :placeholder=\"'请输入' + (itemData?.frontPlaceholder || itemData.labelName)\"\r\n        clearable\r\n        @input=\"handleChangeInputNumberRangeValue($event, 0)\"\r\n      />\r\n      <span class=\"divider\">-</span>\r\n      <el-input\r\n        class=\"numberInput\"\r\n        :prefix-icon=\"getPrefixIcon()\"\r\n        :maxlength=\"getInputLengthLimit()\"\r\n        :style=\"formatCssText()\"\r\n        v-model.trim=\"itemData.searchVal[1]\"\r\n        :placeholder=\"'请输入' + (itemData?.backPlaceholder || itemData.labelName)\"\r\n        clearable\r\n        @input=\"handleChangeInputNumberRangeValue($event, 1)\"\r\n        @clear=\"handleClearInputNumberRangeValue\"\r\n      />\r\n      <p class=\"suffix-text\" v-if=\"itemData.suffixText\">\r\n        {{ itemData.suffixText }}\r\n      </p>\r\n    </template>\r\n    <!-- 下拉单&多选框 -->\r\n    <template v-if=\"itemData.type == 'select'\">\r\n      <el-select\r\n        :style=\"formatCssText()\"\r\n        :multiple=\"itemData.multiple\"\r\n        :collapse-tags=\"itemData.multiple\"\r\n        :collapse-tags-tooltip=\"itemData.multiple\"\r\n        :placeholder=\"'请选择' + (itemData?.placeholder || itemData.labelName)\"\r\n        v-model=\"itemData.searchVal\"\r\n        clearable\r\n        @change=\"handleChangeSelectValue\"\r\n      >\r\n        <el-option v-for=\"item in itemData.options\" :key=\"item.id\" :label=\"item.name\" :value=\"String(item.id)\">\r\n        </el-option>\r\n      </el-select>\r\n      <p class=\"suffix-text\" v-if=\"itemData.suffixText\">\r\n        {{ itemData.suffixText }}\r\n      </p>\r\n    </template>\r\n    <!-- radio 类型的单选 -->\r\n    <template v-if=\"itemData.type == 'radio'\">\r\n      <el-radio-group v-model=\"itemData.searchVal\" @change=\"handleChangeRadioValue\">\r\n        <el-radio :label=\"item.id\" v-for=\"(item, index) in itemData.options\" :key=\"index\">{{ item.name }}</el-radio>\r\n      </el-radio-group>\r\n    </template>\r\n    <!-- checkbox 类型的多选 -->\r\n    <template v-if=\"itemData.type == 'checkbox'\">\r\n      <el-checkbox-group v-model=\"itemData.searchVal\" @change=\"handleChangeCheckboxValue\">\r\n        <el-checkbox :label=\"item.id\" v-for=\"item in itemData.options\" :key=\"item.id\">{{ item.name }}</el-checkbox>\r\n      </el-checkbox-group>\r\n    </template>\r\n    <template v-if=\"itemData.type == 'cascader'\">\r\n      <el-cascader\r\n        ref=\"cascader\"\r\n        v-model=\"itemData.searchVal\"\r\n        :options=\"itemData.options\"\r\n        :placeholder=\"'请选择' + (itemData?.placeholder || itemData?.labelName)\"\r\n        :props=\"{\r\n          checkStrictly: false,\r\n          value: 'id',\r\n          label: 'name',\r\n          children: 'subLit',\r\n          multiple: true,\r\n        }\"\r\n        collapse-tags\r\n        clearable\r\n        :style=\"formatCssText(itemData.elplusCssText)\"\r\n        @change=\"handleChangeCascader\"\r\n      />\r\n      <p class=\"suffix-text\" v-if=\"itemData.suffixText\">\r\n        {{ itemData.suffixText }}\r\n      </p>\r\n    </template>\r\n    <!-- 日期单独选择器 - 精确到日 -->\r\n    <template v-if=\"itemData.type == 'dateRange'\">\r\n      <el-date-picker\r\n        v-model=\"itemData.searchVal\"\r\n        type=\"daterange\"\r\n        range-separator=\"至\"\r\n        start-placeholder=\"开始时间\"\r\n        end-placeholder=\"结束时间\"\r\n        :value-format=\"itemData.formatter || 'YYYY-MM-DD'\"\r\n        :style=\"formatCssText()\"\r\n        @change=\"handleSelectQuickDate\"\r\n      >\r\n      </el-date-picker>\r\n    </template>\r\n    <!-- 日期选择器 - 精确到秒 -->\r\n    <template v-if=\"itemData.type == 'datetimeRange'\">\r\n      <el-date-picker\r\n        v-model=\"itemData.searchVal\"\r\n        type=\"datetimerange\"\r\n        range-separator=\"至\"\r\n        start-placeholder=\"开始时间\"\r\n        end-placeholder=\"结束时间\"\r\n        :value-format=\"itemData.formatter || 'YYYY-MM-DD HH:mm:ss'\"\r\n        :style=\"formatCssText(itemData.elplusCssText)\"\r\n        @change=\"handleSelectQuickDate\"\r\n        :default-time=\"defaultTime\"\r\n      >\r\n      </el-date-picker>\r\n    </template>\r\n    <!-- 快速选择器 -->\r\n    <template v-if=\"itemData.type == 'list'\">\r\n      <ul class=\"qk-list\">\r\n        <li\r\n          class=\"list-item\"\r\n          v-for=\"item in itemData.options\"\r\n          :id=\"item.id\"\r\n          :key=\"item.id\"\r\n          :class=\"{\r\n            active: getActiveNode(item.id),\r\n          }\"\r\n          @click=\"handleSelectListValue(item)\"\r\n        >\r\n          {{ item.name }}\r\n        </li>\r\n      </ul>\r\n    </template>\r\n    <!-- 快速时间 + 自由时间选择器 -->\r\n    <template v-if=\"itemData.type == 'qkdataRange' || itemData.type == 'qkdatetimeRange'\">\r\n      <ul class=\"qkdate-list\">\r\n        <li\r\n          class=\"list-item\"\r\n          v-for=\"(item, index) in itemData.options\"\r\n          :key=\"index\"\r\n          :class=\"{\r\n            active: getActiveNode(getQuickDate(item.days)) && isQuick,\r\n          }\"\r\n          @click.stop=\"handleSelectQuickDate(item.days)\"\r\n        >\r\n          {{ item.label }}\r\n        </li>\r\n        <el-date-picker\r\n          :class=\"{ active: !isQuick }\"\r\n          v-model=\"itemData.searchVal\"\r\n          :type=\"itemData.type == 'qkdate' ? 'daterange' : 'datetimerange'\"\r\n          :default-time=\"itemData.type == 'qkdate' ? new Date() : defaultTime\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始时间\"\r\n          end-placeholder=\"结束时间\"\r\n          :disabledDate=\"itemData.disabledDate\"\r\n          @change=\"handleSelectQuickDate\"\r\n        >\r\n        </el-date-picker>\r\n      </ul>\r\n    </template>\r\n    <!-- 按钮区 -->\r\n    <template v-if=\"itemData.type == 'btns'\">\r\n      <template v-for=\"(btn, index) in itemData.list\" :key=\"index\">\r\n        <el-button\r\n          class=\"define-btn\"\r\n          :type=\"btn.btnType || 'primary'\"\r\n          :style=\"formatCssText(btn.elplusCssText)\"\r\n          @click.stop=\"btnEvent(btn?.eventType)\"\r\n          v-if=\"btn.type == 'btn'\"\r\n          >{{ btn.text || '查询' }}</el-button\r\n        >\r\n        <div\r\n          class=\"folder-btn define-btn reset-btn\"\r\n          :style=\"formatCssText(btn.elplusCssText)\"\r\n          @click=\"handleToggleBlock\"\r\n          v-if=\"btn.type == 'folderbtn'\"\r\n        >\r\n          <span>{{ isFolder ? btn.text1 : btn.text2 }}</span>\r\n          <el-icon :class=\"[{ unfolder: !isFolder }, btn.fontName]\"><ArrowDown /></el-icon>\r\n        </div>\r\n        <span\r\n          class=\"define-btn text-btn reset-btn\"\r\n          :style=\"formatCssText(btn.elplusCssText)\"\r\n          @click.stop=\"btnEvent(btn?.eventType)\"\r\n          v-if=\"btn.type == 'textbtn'\"\r\n          >{{ btn.text }}</span\r\n        >\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, toRefs } from 'vue'\r\nexport default {\r\n  props: {\r\n    itemData: {\r\n      type: Object,\r\n      default: () => {\r\n        return null\r\n      },\r\n    },\r\n    index: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    cindex: {\r\n      type: Number,\r\n      default: -1,\r\n    },\r\n    isFolder: Boolean,\r\n  },\r\n  emits: ['searchFn', 'btnEvent'],\r\n  setup(props, { emit }) {\r\n    const state = reactive({\r\n      isQuick: false,\r\n      defaultTime: [new Date(2000, 1, 1, 0, 0, 0), new Date(2000, 2, 1, 23, 59, 59)],\r\n    })\r\n\r\n    const cascader = ref(null)\r\n\r\n    // 属性设置方法\r\n    const asMethods = {\r\n      /**\r\n       * @name 获取前置icon\r\n       */\r\n      getPrefixIcon() {\r\n        return props.itemData?.prefixIcon || ''\r\n      },\r\n      /**\r\n       * @name 格式化CSS\r\n       */\r\n      formatCssText() {\r\n        const cssText = props.itemData.elplusCssText\r\n        if (typeof cssText == 'object') {\r\n          let str = ''\r\n          Array.from(Object.keys(cssText)).forEach(key => {\r\n            str += key + ':' + cssText[key]\r\n          })\r\n          return str\r\n        }\r\n\r\n        if (typeof cssText == 'string') return cssText\r\n\r\n        return ''\r\n      },\r\n      /**\r\n       * @name input-max-length\r\n       */\r\n      getInputLengthLimit() {\r\n        return props.itemData?.maxLength || 20\r\n      },\r\n    }\r\n\r\n    // 更新 value 值得方法\r\n    const valueMethods = {\r\n      /**\r\n       * @name input输入\r\n       * @param val 选中的数据\r\n       * @param source 当前搜索栏源数据\r\n       */\r\n      handleChangeInputValue(val) {\r\n        const temp = JSON.parse(JSON.stringify(props.itemData))\r\n        if (temp.type == 'inputnumber') {\r\n          temp.searchVal = val.replace(/^0(0+)|[^\\d]+/g, '')\r\n        }\r\n\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name\r\n       */\r\n      handleKeyupEvent() {\r\n        const temp = JSON.parse(JSON.stringify(props.itemData))\r\n        if (temp.type == 'inputnumber') {\r\n          temp.searchVal = temp.searchVal.replace(/^0(0+)|[^\\d]+/g, '')\r\n        }\r\n\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name 修改数字区间数据\r\n       * @param { number / string } val 返回值\r\n       * @param { number } index 索引\r\n       */\r\n      handleChangeInputNumberRangeValue(val, index) {\r\n        const temp = JSON.parse(JSON.stringify(props.itemData))\r\n        temp.searchVal[index] = val.replace(/^0(0+)|[^\\d]+/g, '')\r\n        if (temp.searchVal[1] == '') return\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name 清空inputnumberrange后面得值\r\n       */\r\n      handleClearInputNumberRangeValue() {\r\n        const temp = JSON.parse(JSON.stringify(props.itemData))\r\n        if (!temp.immediate) {\r\n          temp.searchVal = ['', '']\r\n        }\r\n\r\n        if (temp.searchVal[1] == '') return\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name checkbox下拉选择\r\n       * @param val 选中的数据\r\n       */\r\n      handleChangeSelectValue(val) {\r\n        const temp = JSON.parse(JSON.stringify(props.itemData))\r\n        temp.searchVal = val\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name radio 单选\r\n       * @param { string } val 选中的值\r\n       */\r\n      handleChangeRadioValue(val) {\r\n        const temp = JSON.parse(JSON.stringify(props?.itemData))\r\n        temp.searchVal = val\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name checkbox 多选\r\n       * @param { string } val 选中的值\r\n       */\r\n      handleChangeCheckboxValue(val) {\r\n        const temp = JSON.parse(JSON.stringify(props?.itemData))\r\n        temp.searchVal = val\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name 级联选择\r\n       */\r\n      handleChangeCascader(val) {\r\n        const temp = JSON.parse(JSON.stringify(props?.itemData))\r\n        temp.searchVal = val\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name 日期选择\r\n       * @param { array } val 选择后得数据\r\n       */\r\n      handleSelectQuickDate(val) {\r\n        const types = ['qkdateRange', 'qkdateeRange', 'dateRange']\r\n        const temp = JSON.parse(JSON.stringify(props?.itemData))\r\n        if (typeof val == 'number') {\r\n          state.isQuick = true\r\n          const newDate = valueMethods.getQuickDate(val)\r\n          if (JSON.stringify(temp.searchVal) == JSON.stringify(newDate)) {\r\n            temp.searchVal = ['', '']\r\n          } else {\r\n            temp.searchVal = newDate\r\n          }\r\n        } else {\r\n          state.isQuick = false\r\n          // Null || Array 类型 需要用length去判断\r\n          if (val && val.length) {\r\n            const dateArr = toRefs(val)\r\n            const prev = valueMethods.formatDate(\r\n              dateArr[0].value,\r\n              types.includes(props?.itemData.type) ? 'YYYY-MM-DD' : 'YYYY-MM-DD hh:mm:ss'\r\n            )\r\n            const next = valueMethods.formatDate(\r\n              dateArr[1].value,\r\n              types.includes(props?.itemData.type) ? 'YYYY-MM-DD' : 'YYYY-MM-DD hh:mm:ss'\r\n            )\r\n            temp.searchVal = [prev, next]\r\n          }\r\n        }\r\n\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      /**\r\n       * @name 获取快速选择日期时间段\r\n       * @param days 要校验的时间\r\n       */\r\n      getQuickDate(days) {\r\n        const todayStr = new Date().getTime()\r\n        const prevDay = valueMethods.formatDate(todayStr + days * 24 * 60 * 60 * 1000, 'YYYY-MM-DD') + ' 00:00:00'\r\n        const prevDayLastTime =\r\n          valueMethods.formatDate(todayStr + days * 24 * 60 * 60 * 1000, 'YYYY-MM-DD') + ' 23:59:59'\r\n        const currentDay = valueMethods.formatDate(todayStr, 'YYYY-MM-DD') + ' 23:59:59'\r\n        if (days == -1) {\r\n          return [prevDay, prevDayLastTime]\r\n        } else {\r\n          return [prevDay, currentDay]\r\n        }\r\n      },\r\n      /**\r\n       * @name list类型获取选中节点\r\n       */\r\n      getActiveNode(value) {\r\n        if (Array.isArray(value)) {\r\n          return JSON.stringify(props?.itemData.searchVal) == JSON.stringify(value)\r\n        } else {\r\n          return props?.itemData?.searchVal?.includes(String(value))\r\n        }\r\n      },\r\n      /**\r\n       * @name type是list的选择\r\n       * @param { object } item 选中数据\r\n       */\r\n      handleSelectListValue(item) {\r\n        const temp = JSON.parse(JSON.stringify(props?.itemData))\r\n        let oVal = temp?.searchVals || []\r\n        if (!temp.multiple) {\r\n          // 单选\r\n          oVal = oVal[0] == item.id ? [] : [item.id]\r\n        } else {\r\n          // 多选\r\n          if (oVal.includes(item.id)) {\r\n            oVal = oVal.filter(vk => vk != item.id)\r\n          } else {\r\n            oVal.push(...[item.id])\r\n          }\r\n        }\r\n\r\n        temp.searchVal = oVal\r\n        valueMethods.searchFn(temp)\r\n      },\r\n      handleToggleBlock() {\r\n        valueMethods.btnEvent('toggle')\r\n      },\r\n      /**\r\n       * @name 搜索事件\r\n       */\r\n      searchFn(data) {\r\n        emit('searchFn', {\r\n          index: props.index,\r\n          cindex: props.cindex,\r\n          data: data,\r\n        })\r\n      },\r\n      /**\r\n       * @name 按钮事件\r\n       * @param { string } type 事件类型\r\n       */\r\n      btnEvent(type) {\r\n        emit('btnEvent', type)\r\n      },\r\n      /**\r\n       * @name 格式化时间\r\n       * @param date 要格式化得时间\r\n       * @param format 格式类型\r\n       */\r\n      formatDate(date, format = 'YYYY-MM-DD hh:mm:ss') {\r\n        if (isNaN(new Date(date).getTime())) {\r\n          throw new Error(`${date} 不是一个有效的时间`)\r\n        }\r\n\r\n        if (!(date instanceof Date)) {\r\n          date = new Date(date)\r\n        }\r\n\r\n        const o = {\r\n          'Y+': date.getFullYear(),\r\n          'M+': date.getMonth() + 1,\r\n          'D+': date.getDate(),\r\n          'h+': date.getHours(),\r\n          'm+': date.getMinutes(),\r\n          's+': date.getSeconds(),\r\n        }\r\n\r\n        for (let k in o) {\r\n          if (new RegExp(`(${k})`).test(format)) {\r\n            format = format.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : `0${o[k]}`.substr(-RegExp.$1.length))\r\n          }\r\n        }\r\n\r\n        return format\r\n      },\r\n    }\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      ...asMethods,\r\n      ...valueMethods,\r\n      cascader,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-item-reset--wrapper {\r\n  margin-right: 16px;\r\n\r\n  .qk-list {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n    .list-item {\r\n      margin-left: 8px;\r\n      padding: 0 24px;\r\n      line-height: 30px;\r\n      font-size: 12px;\r\n      border: 1px solid #e2e4eb;\r\n      border-radius: 4px;\r\n\r\n      &:first-of-type {\r\n        margin-left: 0;\r\n      }\r\n\r\n      &.active {\r\n        color: #3661f0;\r\n        border-color: #3661f0;\r\n        z-index: 11;\r\n      }\r\n\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n\r\n  .qkdate-list {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n    .list-item {\r\n      margin-right: 8px;\r\n      padding: 0 24px;\r\n      line-height: 30px;\r\n      font-size: 12px;\r\n      border: 1px solid #e2e4eb;\r\n      border-radius: 4px;\r\n\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n\r\n      &.active {\r\n        color: #3661f0;\r\n        border-color: #3661f0;\r\n        z-index: 11;\r\n      }\r\n    }\r\n  }\r\n\r\n  .define-btn {\r\n    margin-right: 16px;\r\n    line-height: 32px;\r\n  }\r\n\r\n  .folder-btn {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    i {\r\n      margin-left: 4px;\r\n    }\r\n  }\r\n\r\n  .reset-btn {\r\n    color: #3661f0;\r\n\r\n    &:hover {\r\n      color: #5e80f3;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n\r\n.item-flex--wrapper {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n\r\n  .divider {\r\n    margin: 0 8px;\r\n    color: #b1b8c4;\r\n  }\r\n\r\n  .suffix-text {\r\n    padding-left: 8px;\r\n    font-size: 12px;\r\n    color: #666666;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>\r\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","<template>\r\n  <div class=\"xy-search-group--wrapper\" :style=\"formatCssText()\">\r\n    <div class=\"search-inner--container\" :style=\"{ height: wh + 'px' }\" ref=\"transitionWrapper\">\r\n      <div\r\n        class=\"search-item\"\r\n        :class=\"{ inline: item?.attr?.display == 'inline' }\"\r\n        :data-style=\"item?.attr?.display\"\r\n        v-for=\"(item, index) in copySearchData\"\r\n        :key=\"index\"\r\n        ref=\"list\"\r\n      >\r\n        <p class=\"label\" v-if=\"item?.labelVisibel || item?.labelName\">\r\n          <span v-if=\"item?.labelName\">{{ item.labelName }}</span>\r\n          <span v-if=\"item?.labelName\">：</span>\r\n        </p>\r\n        <div class=\"value\" :class=\"{ 'has-more-conditions': item.more }\">\r\n          <search-item :itemData=\"item\" :index=\"index\" :isFolder=\"isFolder\" @searchFn=\"searchFn\" @btnEvent=\"btnEvent\" />\r\n          <template v-if=\"item.more\">\r\n            <div class=\"more-seach-conditions\" v-for=\"(more, idx) in item.more\" :key=\"idx\">\r\n              <search-item\r\n                :itemData=\"more\"\r\n                :index=\"index\"\r\n                :cindex=\"idx\"\r\n                :isFolder=\"isFolder\"\r\n                @searchFn=\"searchFn\"\r\n                @btnEvent=\"btnEvent\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, toRefs, nextTick, watch, onMounted, onBeforeUnmount } from 'vue'\r\nimport SearchItem from './searchItem.vue'\r\nimport ResizeObserver from 'resize-observer-polyfill'\r\nexport default {\r\n  name: 'QJsearch',\r\n  props: {\r\n    searchData: {\r\n      type: [Array, Object],\r\n      default: () => {\r\n        return []\r\n      },\r\n    },\r\n    initVisibleCount: [Number, String],\r\n    wrapperStyles: {\r\n      type: [String, Object],\r\n      default: '',\r\n    },\r\n  },\r\n  components: {\r\n    SearchItem,\r\n  },\r\n  setup(props, { emit }) {\r\n    const state = reactive({\r\n      copySearchData: null,\r\n      isFolder: true,\r\n      wh: 1000,\r\n      observe: null,\r\n    })\r\n\r\n    const transitionWrapper = ref(null)\r\n    const list = ref(null)\r\n\r\n    const methods = {\r\n      /**\r\n       * @name 搜索回调\r\n       */\r\n      searchFn(result) {\r\n        if (result.cindex == -1) {\r\n          state.copySearchData[result?.index] = result.data\r\n        } else {\r\n          state.copySearchData[result?.index].more[result?.cindex] = result.data\r\n        }\r\n        emit('searchFn', state.copySearchData)\r\n      },\r\n      /**\r\n       * @name 按钮事件回调\r\n       */\r\n      btnEvent(type) {\r\n        // 收起展开事件\r\n        if (type == 'toggle') {\r\n          state.isFolder = !state.isFolder\r\n          nextTick(() => {\r\n            state.wh = methods.getTagsBlockSize()\r\n          })\r\n        }\r\n        // 搜索事件\r\n        if (type == 'search') {\r\n          emit('searchFn', state.copySearchData)\r\n        }\r\n      },\r\n      /**\r\n       * @name 格式化CSS\r\n       */\r\n      formatCssText() {\r\n        if (props?.wrapperStyles) {\r\n          const cssText = props?.wrapperStyles\r\n          if (typeof cssText == 'object') {\r\n            let str = ''\r\n            Array.from(Object.keys(cssText)).forEach(key => {\r\n              str += key + ':' + cssText[key]\r\n            })\r\n            return str\r\n          }\r\n\r\n          if (typeof cssText == 'string') return cssText\r\n        }\r\n\r\n        return ''\r\n      },\r\n      /**\r\n       * @name 获取tags部分的size\r\n       *\r\n       */\r\n      getTagsBlockSize() {\r\n        let h = 0\r\n        if (list.value) {\r\n          if (state.isFolder) {\r\n            h = getFoldSize()\r\n          } else {\r\n            h = getUnFoldSize()\r\n          }\r\n          // 20 是上边距\r\n          return h\r\n        }\r\n\r\n        function getFoldSize() {\r\n          let h = 0\r\n          let count = 0\r\n          let num = Number(props.initVisibleCount)\r\n          if (props.initVisibleCount) {\r\n            Array.from(list.value)\r\n              .filter(vn => vn.nodeType == 1)\r\n              .forEach(vk => {\r\n                if (num > 0) {\r\n                  if (vk.getAttribute('data-style') == 'inline') {\r\n                    if (count >= 1) {\r\n                      count = 0\r\n                    } else {\r\n                      count += 1\r\n                      num--\r\n                      h += Number(vk.clientHeight)\r\n                      h += parseInt(window.getComputedStyle(vk, null).marginTop)\r\n                      h += parseInt(window.getComputedStyle(vk, null).marginBottom)\r\n                    }\r\n                  } else {\r\n                    num--\r\n                    h += Number(vk.clientHeight)\r\n                    h += parseInt(window.getComputedStyle(vk, null).marginTop)\r\n                    h += parseInt(window.getComputedStyle(vk, null).marginBottom)\r\n                  }\r\n                }\r\n              })\r\n          }\r\n          return h - 1\r\n        }\r\n\r\n        function getUnFoldSize() {\r\n          let h = 0\r\n          let count = 0\r\n          const lists = Array.from(list.value)\r\n            .filter(vn => vn.nodeType == 1)\r\n            .reverse()\r\n\r\n          lists.forEach((vk, index) => {\r\n            if (vk.getAttribute('data-style') == 'inline') {\r\n              if (count >= 1) {\r\n                count = 0\r\n              } else {\r\n                count += 1\r\n                h += Number(vk.clientHeight)\r\n                h += parseInt(window.getComputedStyle(vk, null).marginTop)\r\n                if (index !== lists.length - 1) h += parseInt(window.getComputedStyle(vk, null).marginBottom)\r\n              }\r\n            } else {\r\n              h += Number(vk.clientHeight)\r\n              h += parseInt(window.getComputedStyle(vk, null).marginTop)\r\n              if (index !== lists.length - 1) h += parseInt(window.getComputedStyle(vk, null).marginBottom)\r\n            }\r\n          })\r\n          return h\r\n        }\r\n      },\r\n      seachTransBlockSizeObserve() {\r\n        state.observe = new ResizeObserver(() => {\r\n          state.wh = methods.getTagsBlockSize()\r\n        })\r\n        state.observe.observe(transitionWrapper?.value)\r\n      },\r\n    }\r\n\r\n    watch(\r\n      () => props.searchData,\r\n      val => {\r\n        if (val) {\r\n          if (Array.isArray(val)) {\r\n            state.copySearchData = props.searchData?.length ? JSON.parse(JSON.stringify(props.searchData)) : []\r\n          }\r\n          if (Object.prototype.toString.call(val) == '[object Object]') {\r\n            state.copySearchData = [JSON.parse(JSON.stringify(val))]\r\n          }\r\n        }\r\n      },\r\n      { immediate: true }\r\n    )\r\n\r\n    onMounted(() => {\r\n      transitionWrapper.value.style.transition = ''\r\n      state.wh = methods.getTagsBlockSize()\r\n      nextTick(() => {\r\n        transitionWrapper.value.style.transition = 'height 0.25s ease'\r\n        methods.seachTransBlockSizeObserve()\r\n      })\r\n    })\r\n\r\n    onBeforeUnmount(() => {\r\n      state.observe && state.observe.unobserve(transitionWrapper?.value)\r\n    })\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      ...methods,\r\n      transitionWrapper,\r\n      list,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.xy-search-group--wrapper {\r\n  padding-bottom: 16px;\r\n  width: 100%;\r\n  transition: all 0.35s ease;\r\n\r\n  .search-inner--container {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    flex-wrap: wrap;\r\n    padding: 16px 16px 0;\r\n    overflow: hidden;\r\n\r\n    .search-item {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: flex-start;\r\n      min-width: 100%;\r\n\r\n      .label {\r\n        margin-bottom: 16px;\r\n        min-width: 100px;\r\n        font-size: 12px;\r\n        line-height: 30px;\r\n        text-align: right;\r\n      }\r\n\r\n      .value {\r\n        :deep(> div) {\r\n          margin-bottom: 16px;\r\n        }\r\n      }\r\n\r\n      .has-more-conditions {\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        align-items: flex-start;\r\n        flex-wrap: wrap;\r\n\r\n        .more-seach-conditions {\r\n          margin-right: 16px;\r\n\r\n          .search-item-reset--wrapper {\r\n            margin-right: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .inline {\r\n      min-width: auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import 'element-plus/dist/index.css'\r\nimport './theme-chalk/index.js'\r\nimport QJsearch from './search/index.vue' //引入封装好的组件\r\nconst coms = [ QJsearch ] //将来如果有其他逐渐，都可以写在这个数据里\r\n\r\n//批量组件注册\r\nconst install = function (Vue) {\r\n  coms.forEach(com => {\r\n    Vue.component(com.name, com)\r\n  })\r\n}\r\n\r\n/* istanbul ignore if */\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue);\r\n}\r\n\r\nexport default {\r\n  install, //这个方法以后在使用的时候可以被use调用\r\n  ...coms\r\n} \r\n"],"names":["_sfc_main","reactive","ref","toRefs","_hoisted_1","_createElementVNode","_createElementBlock","_normalizeClass","_createBlock","_Fragment","_createVNode","_openBlock","_hoisted_2","_toDisplayString","_renderList","_hoisted_3","_createTextVNode","_normalizeStyle","_hoisted_4","_withModifiers","index","nextTick","ResizeObserver","watch","onMounted","onBeforeUnmount"],"mappings":"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"}